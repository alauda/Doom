"use strict";(self.webpackChunk_alauda_doom=self.webpackChunk_alauda_doom||[]).push([["5313"],{2078:function(s,e,n){n.r(e),n.d(e,{default:()=>c});var r=n(5893),i=n(65),l=n(4686),o=n(4011);function a(s){let e={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",span:"span",...(0,i.a)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"部署",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#部署",children:"#"}),"部署"]}),"\n","\n",(0,r.jsxs)(e.div,{className:"doom-auto-toc rspress-toc-exclude",children:[(0,r.jsxs)(e.h2,{id:"toc",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#toc",children:"#"}),(0,o.$G)()("toc")]}),(0,r.jsx)(l.of,{})]}),"\n",(0,r.jsxs)(e.h2,{id:"构建与预览",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#构建与预览",children:"#"}),"构建与预览"]}),"\n",(0,r.jsx)(e.p,{children:"在部署之前，我们需要先对项目进行生产环境的构建，并在本地进行预览，以确保项目能够正常运行："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-bash",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 构建静态产物"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" serve"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 以生产模式预览构建产物"})]})]})})}),"\n",(0,r.jsxs)(e.h2,{id:"镜像构建",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#镜像构建",children:"#"}),"镜像构建"]}),"\n",(0,r.jsxs)(e.p,{children:["参考 ",(0,r.jsx)(e.a,{href:"https://gitlab-ce.alauda.cn/idp/Doom/-/blob/master/.build/ci.yaml",rel:"noopener noreferrer",target:"_blank",children:"ci.yaml"})," 创建流水线配置文件，以及 ",(0,r.jsx)(e.a,{href:"https://gitlab-ce.alauda.cn/idp/Doom/-/blob/master/Dockerfile",rel:"noopener noreferrer",target:"_blank",children:"Dockerfile"})," 用于构建纯静态资源镜像"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-dockerfile",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" build-harbor.alauda.cn/ops/alpine:latest"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"WORKDIR"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" /docs"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"COPY"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" . dist"})]})]})})}),"\n",(0,r.jsxs)(e.h2,{id:"部署到-acp",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#部署到-acp",children:"#"}),"部署到 ACP"]}),"\n",(0,r.jsxs)(e.h3,{id:"多版本构建",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#多版本构建",children:"#"}),"多版本构建"]}),"\n",(0,r.jsxs)(e.p,{children:["默认情况下，",(0,r.jsx)(e.code,{children:"doom build"})," 会将构建产物输出到 ",(0,r.jsx)(e.code,{children:"dist"})," 目录，如果需要构建多个版本的文档，可以通过 ",(0,r.jsx)(e.code,{children:"-v"})," 参数指定版本号，例如："]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-bash",children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# 一般由分支名确定，如 release-4.0 对应 4.0 版本"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -v"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 4.0"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 构建 4.0 版本，产物输出到 dist/4.0，文档访问路径为 {base}/4.0"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -v"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" master"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 构建 master 版本，产物输出到 dist/master，文档访问路径为 {base}/master"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -v"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" {other}"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 构建其他版本，产物输出到 dist/{other}，文档访问路径为 {base}/{other}"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# unversioned 和 unversioned-x.y 为特殊版本号，用于构建无版本号前缀的文档"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -v"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" unversioned"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 构建无版本号前缀的文档，产物输出到 dist/unversioned，文档访问路径为 {base}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"doom"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -v"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" unversioned-4.0"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 构建无版本号前缀但导航栏展示版本号 4.0 的文档，产物输出到 dist/unversioned，文档访问路径为 {base}"})]})]})})}),"\n",(0,r.jsxs)(e.h3,{id:"合并目录结构",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#合并目录结构",children:"#"}),"合并目录结构"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-sh",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" console-platform"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 4.0"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 4.1"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" index.html"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" overrides.yaml"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   └──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" versions.yaml"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" console-devops-docs"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 4.0"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 4.1"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" index.html"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" overrides.yaml"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   └──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" versions.yaml"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" console-tekton-docs"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 1.0"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 1.1"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" index.html"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" overrides.yaml"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   └──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" versions.yaml"})]})]})})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-html",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<!"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"DOCTYPE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" html"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"html"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"head"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"title"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">Redirecting...</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"title"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"meta"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" http-equiv"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"refresh"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" content"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"0; url=/console-docs/4.1"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"head"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"body"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"p"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">Redirecting to <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"a"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" href"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/console-docs/4.1"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">/console-docs/4.1</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"a"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"></"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"p"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"body"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"html"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsxs)(e.h4,{id:"overrides",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#overrides",children:"#"}),"动态挂载配置文件"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-yaml",children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# 术语信息，只需要挂载到 console-platform 一个入口即可，以下为无动态挂载的默认配置"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# https://gitlab-ce.alauda.cn/idp/Doom/-/blob/master/src/terms.ts#L11"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"terms"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  company"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    en"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Alauda"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    zh"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 灵雀云"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  product"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    en"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Alauda Container Platform"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    zh"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 灵雀云容器平台"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  productShort"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    en"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" ACP"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# 文档信息，每个文档都可以挂载覆盖默认配置"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"title"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  en"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Doom - Alauda"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  zh"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Doom - 灵雀云"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"logoText"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  en"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Doom - Alauda"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  zh"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Doom - 灵雀云"})]})]})})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-yaml",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"- "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'4.1'"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"- "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'4.0'"})]})]})})}),"\n",(0,r.jsxs)(e.h3,{id:"随产品发布的文档",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#随产品发布的文档",children:"#"}),"随产品发布的文档"]}),"\n",(0,r.jsxs)(e.p,{children:["目前产品文档跟随 ",(0,r.jsx)(e.a,{href:"https://gitlab-ce.alauda.cn/frontend/chart-frontend/-/blob/master/chart/values.yaml#L78-107",rel:"noopener noreferrer",target:"_blank",children:"chart-frontend"})," 一起部署，因此对发布流程不需要变更，可以延续原 ",(0,r.jsx)(e.a,{href:"https://gitlab-ce.alauda.cn/alauda/alauda-docs",rel:"noopener noreferrer",target:"_blank",children:"alauda-docs"})," 发布流程，如果后续将所有产品文档进行拆分处理啧需要前端同时配合调整相关",(0,r.jsx)(e.a,{href:"https://edge.alauda.cn/console-devops/workspace/frontend/cd?delivery=packager-frontend-chart",rel:"noopener noreferrer",target:"_blank",children:"发布流水线"}),"中 ",(0,r.jsx)(e.code,{children:"check-alauda-docs"})," 阶段的镜像检查配置"]}),"\n",(0,r.jsxs)(e.h3,{id:"其他自托管的文档",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#其他自托管的文档",children:"#"}),"其他自托管的文档"]}),"\n",(0,r.jsxs)(e.p,{children:["对于不需要随产品发布的文档，例如当前 ",(0,r.jsx)(e.code,{children:"doom"})," 文档，可以使用 idp 提供的 ",(0,r.jsx)(e.a,{href:"https://edge.alauda.cn/console-acp/app-market/idp~alauda-idp~idp/chart/webapp.idp-repo/latest",rel:"noopener noreferrer",target:"_blank",children:"webapp"})," 应用模板进行快速部署，目前依赖镜像构建完成后手动更新应用的镜像版本"]}),"\n",(0,r.jsxs)(e.div,{className:"rspress-directive info",children:[(0,r.jsx)(e.div,{className:"rspress-directive-title",children:"INFO"}),(0,r.jsx)(e.div,{className:"rspress-directive-content",children:(0,r.jsx)(e.p,{children:"后续将提供 PR 预览、gitops 等相关功能"})})]})]})}function c(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.a)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(a,{...s})}):a(s)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["zh%2Fusage%2Fdeploy.md"]={toc:[{id:"构建与预览",text:"构建与预览",depth:2},{id:"镜像构建",text:"镜像构建",depth:2},{id:"部署到-acp",text:"部署到 ACP",depth:2},{id:"多版本构建",text:"多版本构建",depth:3},{id:"合并目录结构",text:"合并目录结构",depth:3},{id:"overrides",text:"动态挂载配置文件",depth:4},{id:"随产品发布的文档",text:"随产品发布的文档",depth:3},{id:"其他自托管的文档",text:"其他自托管的文档",depth:3}],title:"部署",headingTitle:"部署",frontmatter:{description:"文档项目开发完成后我们可以将项目部署到 ACP 平台",weight:8}}}}]);